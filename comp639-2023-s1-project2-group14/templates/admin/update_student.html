{% extends 'base.html' %}

{% block content %}

{% if user_role %}
    {% include 'navbar.html' %}
{% endif %}


<main>
    <h2 class="info-title">Update Student Info</h2>
    <h6>Fields with a star are required.</h6>
          <nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Home</a></li>
    <li class="breadcrumb-item"><a href="/admin/students">Students</a></li>
    <li class="breadcrumb-item"><a href="/admin/student_detail?ID={{students_list[0][11]}}">Student Detail</a></li>
      <li class="breadcrumb-item active" aria-current="page">Update Student Info</li>
  </ol>
</nav>
<div class="card">
    <div class="form-add">

      <form class="form-horizontal"  method="POST" action="/admin/update_student/submit"  onsubmit="return confirm('Are you sure you want to submit?');">
          {% for student in students_list %}

          <div class="form-group">
              <label for="firstname" class="control-label col-sm-3">First Name <span>*</span></label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="firstname" aria-describedby="firstname" value="{{student[0]}}" name="firstname" required>
          </div>
              </div>
          <div class="form-group">
            <label for="lastname" class="control-label col-sm-3">Last Name <span>*</span></label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="lastname" value="{{student[1]}}" name="lastname" required>
          </div>
          </div>
          <div class="form-group">
            <label for="email" class="control-label col-sm-3">Email Address <span>*</span></label>
             <div class="col-sm-9">
              <input type="email" class="form-control" id="email" value="{{student[2]}}" name="email" required>
            <small id="email_Help" class="form-text text-muted">We'll never share your email with anyone else.</small>
          </div>
               </div>
          <div class="form-group">
            <label for="password" class="control-label col-sm-3">Temporary Password <span>*</span></label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="password" value="{{student[3]}}" name="password" required>
            <small id="emailHelp" class="form-text text-muted">We'll never share your password with anyone else.</small>
          </div>
               </div>
          <div class="form-group">
            <label class="control-label col-sm-3">Department</label>
               <div class="col-sm-9">
            <select name="department">
               <option value=1 {% if student[4] == 1 %}selected{% endif %}> Environmental Management (DEM) </option>
               <option value=2 {% if student[4] == 2 %}selected{% endif %}> Tourism, Sport and Society (DTSS)</option>
               <option value=3 {% if student[4] == 3 %}selected{% endif %}> Landscape Architecture (SOLA)</option>
            </select>
          </div>
           </div>
           <div class="form-group">
            <label for="enrolment_date" class="control-label col-sm-3">Enrolment Date</label>
                <div class="col-sm-9">
            <input type="text" class="form-control" id="enrolment_date" value="{{student[5]}}" name="enrolment_date" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}">
               <small class="form-text text-muted">You can only enter dates in the format 2023-01-01.</small>
          </div>
                 </div>
          <div class="form-group">
            <label for="address" class="control-label col-sm-3">Address</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="address" value="{{student[6]}}" name="address">
          </div>
               </div>
          <div class="form-group">
            <label for="phone" class="control-label col-sm-3">Phone</label>
              <div class="col-sm-9">
            <input type="text" class="form-control" id="phone" value="{{student[7]}}" name="phone"pattern="^[0-9-]*$">
              <small class="form-text text-muted">You can only enter numbers and dash.</small>
          </div>
           </div>
           <div class="form-group">
                <label class="control-label col-sm-3">PhD Status</label>
                <div class="col-sm-9">
                    <select name="status">
                    <option value="Part-time" {% if student[8] =='Part-time' %}selected{% endif %} >Part Time</option>
                    <option value="Full-time" {% if student[8] =='Full-time' %}selected{% endif %}>Full Time</option>
                    </select>
            </div>
                </div>
          <div class="form-group">
            <label for="thesis_title" class="control-label col-sm-3">Thesis Title</label>
               <div class="col-sm-9">
            <input type="text" class="form-control" id="thesis_title" value="{{student[9]}}" name="thesis_title">
          </div>
           </div>

          <input class="form-control mr-sm-2" type="hidden" placeholder="default" name="id" value="{{student[11]}}">
           {% endfor %}

          <div class="form-group">
            <label for="main" class="control-label col-sm-3">Main Supervisor</label>
                <div class="col-sm-9">
            <input type="text" class="form-control" id="main" value="{{supervisor_list[0]}}" name="main">
          </div>
               </div>
          <div class="form-group">
            <label for="associate" class="control-label col-sm-3">Associate Supervisor</label>
              <div class="col-sm-9">
              <input type="text" class="form-control" id="associate" value="{{supervisor_list[1]}}" name="associate" >
          </div>
           </div>
          <div class="form-group">
            <label for="other" class="control-label col-sm-3">Other Supervisor</label>
                <div class="col-sm-9">
            <input type="text" class="form-control" id="other" value="{{supervisor_list[2]}}" name="other">
          </div>
                 </div>

         <div class="button-area">
          <button type="submit" class="btn btn-primary">Submit</button>
             <a href="/admin/student_detail?ID={{students_list[0][11]}}"  id="reset" class="btn btn-update">Back</a>
        </div>

        </form>

</div>
    </div>

</main>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>

<style>
form{
width:80%;
}


select{
width:100%;
padding:5px 10px;
}

h6{
  text-align:center;
  }

.form-group span{
  color:red;
  }

  .btn-update{
  margin-left:10px;
  }

 .button-area{
  margin-top:30px;
  text-align:center;
  }


</style>

{% endblock %}